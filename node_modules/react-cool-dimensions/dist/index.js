"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.apply(this,arguments)}var t=function(r){var t=e.useRef(r);return t.current=r,t},n="ðŸ’¡ react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill",o="ðŸ’¡ react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement";exports.borderBoxWarn=o,exports.default=function(i){var u=void 0===i?{}:i,c=u.useBorderBoxSize,s=u.breakpoints,a=u.updateOnBreakpointChange,l=u.shouldUpdate,h=u.onResize,p=u.polyfill,b=e.useState({currentBreakpoint:"",width:null,height:null}),f=b[0],d=b[1],v=e.useRef({}),w=e.useRef(),k=e.useRef(),y=e.useRef(!1),B=e.useRef(),g=t(h),z=t(l),m=e.useCallback((function(){k.current&&k.current.disconnect()}),[]),O=e.useCallback((function(e){e&&e!==B.current&&(m(),B.current=e,d({currentBreakpoint:"",width:e.clientWidth,height:e.clientHeight})),k.current&&B.current&&k.current.observe(B.current)}),[m]);return e.useEffect((function(){if(!("ResizeObserver"in window&&"ResizeObserverEntry"in window||p))return console.error(n),function(){return null};var e=null;return k.current=new(p||ResizeObserver)((function(r){var t=r[0];e=requestAnimationFrame((function(){var e=t.contentBoxSize,r=t.borderBoxSize,n=t.contentRect,i=e;c&&(r?i=r:y.current||(console.warn(o),y.current=!0));var u=(i=Array.isArray(i)?i[0]:i)?i.inlineSize:n.width,l=i?i.blockSize:n.height;if(u!==v.current.width||l!==v.current.height){v.current={width:u,height:l};var h,p,b,f,k={currentBreakpoint:"",width:u,height:l,entry:t,observe:O,unobserve:m};s?(k.currentBreakpoint=(h=s,p=u,b="",f=-1,Object.keys(h).forEach((function(e){var r=h[e];p>=r&&r>f&&(b=e,f=r)})),b),k.currentBreakpoint!==w.current&&(g.current&&g.current(k),w.current=k.currentBreakpoint)):g.current&&g.current(k);var B={currentBreakpoint:k.currentBreakpoint,width:u,height:l,entry:t};z.current&&!z.current(B)||(!z.current&&s&&a?d((function(e){return e.currentBreakpoint!==B.currentBreakpoint?B:e})):d(B))}}))})),O(),function(){m(),e&&cancelAnimationFrame(e)}}),[JSON.stringify(s),c,O,m,a]),r({},f,{observe:O,unobserve:m})},exports.observerErr=n;
//# sourceMappingURL=index.js.map
